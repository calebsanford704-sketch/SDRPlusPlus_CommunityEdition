    - name: Configure (scanner module only)
      run: |
        cmake -S misc_modules/scanner -B build -G "Visual Studio 17 2022" -A x64

    - name: Build (Release)
      run: |
        cmake --build build --config Release

    - name: Locate scanner.dll
      shell: pwsh
      run: |
        Get-ChildItem -Recurse build -Filter scanner.dll | Format-List FullName
        if (-not (Get-ChildItem -Recurse build -Filter scanner.dll)) { throw "scanner.dll not found" }

    - name: Upload scanner.dll
      uses: actions/upload-artifact@v4
      with:
        name: scanner-dll
        path: build/**/scanner.dll
